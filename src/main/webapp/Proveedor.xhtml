<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <f:facet name="first">
            <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
            <title>Proveedor</title>
        </f:facet>
    </h:head>

    <h:body>
        <h:form id="tablaDatos">
            <p:dataTable id="table"
                         value="#{frmProveedor.lazymodel}" 
                         var="var"
                         lazy="true"
                         paginator="true"
                         rows="5"
                         selectionMode="single"
                         selection="#{frmProveedor.registroprv}"
                         disabledSelection="#{frmProveedor.seleccion}">
                
                <p:ajax update=":frmDetalle:formulario :frmDetalle:botones" listener="#{frmProveedor.cambiarSeleccion()}" event="rowSelect"/>
                    
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="ID"/>
                    </f:facet>		
                    <h:outputText value="#{var.idProveedor}"/>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Nombre Proveedor"/>
                    </f:facet>		
                    <h:outputText value="#{var.nombreProveedor}"/>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Nombre Empresa"/>
                    </f:facet>		
                    <h:outputText value="#{var.nombreEmpresa}"/>
                </p:column>
                
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Direccion Empresa"/>
                    </f:facet>		
                    <h:outputText value="#{var.direccionEmpresa}"/>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Activo"/>
                    </f:facet>		
                    <h:outputText value="#{var.estado}"/>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Observaciones"/>
                    </f:facet>		
                    <h:outputText value="#{var.observaciones}"/>
                </p:column>
            </p:dataTable>    
        </h:form>
        
        
        <h:form id="frmDetalle">
             <p:panel id="formulario">
                <p:focus context="formulario"/>
                <p:panelGrid id="grid_input" columns="3">

                    <h:outputLabel for="id" value="ID"/>
                    <p:inputText id="id" value="#{frmProveedor.registroprv.idProveedor}" label="id" readonly="false"/>
                    <p:message id="msmid" for="id"/>

                    <h:outputLabel for="name" value="Nombre Proveedor"/>
                    <p:inputText id="name" value="#{frmProveedor.registroprv.nombreProveedor}" label="name" required="true" readonly="false"/>
                    <p:message id="msname" for="name"/>
                    
                    <p:outputLabel for="nameEmp" value="Nombre Empresa"/>
                    <p:inputText id="nameEmp" value="#{frmProveedor.registroprv.nombreEmpresa}" label="nameEmp" required="true"/>
                    <p:message id="msnameEmp" for="nameEmp"/>

                    <p:outputLabel for="direccion" value="Direccion"/>
                    <p:inputText id="direccion" value="#{frmProveedor.registroprv.direccionEmpresa}" label="direccion" required="true"/>
                    <p:message id="msdireccion" for="direccion"/>
                                         
                    <h:outputLabel for="state" value="Estado"/>
                    <p:selectBooleanCheckbox id="state" value="#{frmProveedor.registroprv.estado}" disabled="false"/>
                    <p:message id="msstate" for="state"/>

                    <h:outputLabel for="descripcion" value="Observaciones"/>
                    <p:inputTextarea id="descripcion" value="#{frmProveedor.registroprv.observaciones}" label="descripcion" readonly="false"/>
                    <p:message id="msdescripcion" for="descripcion"/>
                     
                </p:panelGrid>
            </p:panel>
            
            
              <p:toolbar id="botones">
                <f:facet name="left">
                     <p:commandButton   value="Crear"
                                        validateClient="true" ajax="true"
                                        update=":tablaDatos frmDetalle:formulario frmDetalle:botones"
                                        resetValues="true"
                                        rendered="#{frmProveedor.botonAgregar}"
                                        actionListener="#{frmProveedor.guardar()}"/>
                     
                     <p:commandButton   value="Editar"
                                        validateClient="true" ajax="true"
                                        update=":tablaDatos frmDetalle:formulario frmDetalle:botones"
                                        rendered="#{frmProveedor.botones}"
                                        actionListener="#{frmProveedor.editar()}"/>
                     
                     <p:commandButton   value="Eliminar"
                                        validateClient="true" ajax="true"
                                        update=":tablaDatos frmDetalle:formulario frmDetalle:botones"
                                        rendered="#{frmProveedor.botones}"
                                        actionListener="#{frmProveedor.eliminar()}"/>

                    <p:commandButton    value="Cancelar"
                                        validateClient="true" ajax="true"
                                        update=":tablaDatos frmDetalle:formulario frmDetalle:botones"
                                        disabled="false" resetValues="true"
                                        actionListener="#{frmProveedor.cancelar()}"
                                        immediate="true"/>
                </f:facet>
             </p:toolbar>
          </h:form>

    </h:body>
</html>


