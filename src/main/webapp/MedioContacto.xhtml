<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<f:view contentType="text/html">
    <h:head>
        <f:facet name="first">
            <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
            <title>Medio Contacto</title>
        </f:facet>
    </h:head>

    <h:body>
        <h2 align="center">Medio Contacto</h2>
        <f:view>
            <h:form id="tabla_datos">
                <p:dataTable id="table"
                             value="#{frmMedioContacto.lazymodel}" 
                             var="var"
                             lazy="true"
                             paginator="true"
                             rows="5"
                             selectionMode="single"
                             selection="#{frmMedioContacto.registro}"
                             disabledSelection="#{frmMedioContacto.seleccion}">

                    <p:ajax update=":frm_detalle:formulario :frm_detalle:btns" listener="#{frmMedioContacto.cambiarSeleccion()}" event="rowSelect"/>
                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="ID"/>
                        </f:facet>		
                        <h:outputText value="#{var.idMedioContacto}"/>
                    </p:column>
                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Medio Contacto"/>
                        </f:facet>		
                        <h:outputText value="#{var.medioContacto}"/>
                    </p:column>
                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Descripcion"/>
                        </f:facet>		
                        <h:outputText value="#{var.descripcion}"/>
                    </p:column>

                </p:dataTable>  
            </h:form>
            
            <h:form id="frm_detalle">
                <p:panel id="formulario">
              
                    <p:focus context="formulario"/>
                
                    <p:panelGrid id="grid_input" columns="3">

                        <h:outputLabel for="id" value="ID"/>
                        <p:inputText id="id" value="#{frmMedioContacto.registro.idMedioContacto}" label="id" readonly="true"/>
                        <p:message id="msmid" for="id"/>

                        <h:outputLabel for="name" value="Nombre"/>
                        <p:inputText id="name" value="#{frmMedioContacto.registro.medioContacto}" label="name" required="true" readonly="false"/>
                        <p:message id="msname" for="name"/>

                        <h:outputLabel for="descripcion" value="Descripcion"/>
                        <p:inputTextarea id="descripcion" value="#{frmMedioContacto.registro.descripcion}" label="descripcion" required="true" readonly="false"/>
                        <p:message id="msdescripcion" for="descripcion"/>
                     
                    </p:panelGrid>
                </p:panel>
                <p:toolbar id="btns" style="background: whitesmoke" >
                <f:facet name="left">
                     <p:commandButton value="Crear" icon="ui-icon-disk"
                                     validateClient="true" ajax="true"
                                     update=":tabla_datos frm_detalle:formulario frm_detalle:btns"
                                     resetValues="true"
                                     rendered="#{frmMedioContacto.botonAgregar}"
                                     actionListener="#{frmMedioContacto.guardar}"/>
                     
                     <p:commandButton value="Editar" icon="ui-icon-pencil"
                                     validateClient="true" ajax="true"
                                     update=":tabla_datos frm_detalle:formulario frm_detalle:btns"
                                     rendered="#{frmMedioContacto.botones}"
                                     actionListener="#{frmMedioContacto.Modificar}"/>
                     
                     <p:commandButton value="Eliminar" icon="ui-icon-trash"
                                     validateClient="true" ajax="true"
                                     update=":tabla_datos frm_detalle:formulario frm_detalle:btns"
                                     rendered="#{frmMedioContacto.botones}"
                                     actionListener="#{frmMedioContacto.Eliminar}"/>

                    <p:commandButton value="Cancelar" icon="ui-icon-cancel"
                                     validateClient="true" ajax="true"
                                     update=":tabla_datos frm_detalle:formulario frm_detalle:btns"
                                     disabled="false" resetValues="true"
                                     actionListener="#{frmMedioContacto.cancelar()}"
                                     immediate="true"/>
                </f:facet>
                </p:toolbar>
            </h:form>
        </f:view>
    </h:body>
</f:view>
</html>
